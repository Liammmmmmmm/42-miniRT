
void	metallic_color(inout vec3 rd, hit_record hit, inout vec3 power)
{
	const float	cos_theta = get_cos_theta(rd, hit.normal);
	vec3		micro_normal;

	if (materials[hit.material_id].roughness_value > 0.0)
		micro_normal = hit.normal; // TODO: GGX sample hemisphere pour la roughness
	else
		micro_normal = hit.normal;
	rd = normalize(rd - micro_normal * 2 * dot(rd, micro_normal));
	power *= fresnel_schlick_color(cos_theta, hit.color);
}
